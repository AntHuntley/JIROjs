(function(b){var a={};a.common={sortFunc:function(c){return function(e,d){return e[c]-d[c]}},toArray:function(c){var e,d=[];for(e in c){e=parseInt(e,10);if(c.hasOwnProperty(e)&&!(isNaN(e))){d.push({key:e,value:c[e]})}}return d.sort(a.common.sortFunc("key"))}};a.model={test:0,actionAppend:function(c){this.each(function(){var d=b(this);if(!(d.data("jiro"))){d.data("jiro",{actions:[],pointer:0,waitingForInit:true});b(window).one("init.jiro",{obj:d},a.view.init)}else{if(!(d.data("jiro").waitingForInit)){d.data("jiro").waitingForInit=true;b(window).one("init.jiro",{obj:d},a.view.set)}}d.data("jiro").actions.push(c)})},styleBuffer:[],stylishAppend:function(c){if(a.view.documentReady){a.model.stylishToAction.call(this,c)}else{c.obj=this;a.model.styleBuffer.push(c)}},stylishToAction:function(c){var d=c.property.getter();a.model.actionAppend.call(this,{breakPoint:c.breakPoint,overFunction:function(){return c.property.setter((c.over==="current")?d:c.over)},underFunction:function(){return c.property.setter((c.under==="current")?d:c.under)}})},unbuffer:function(){function c(f,d){var e;while(f.length>0){e=f.pop();d.call(e.obj,e)}}c(a.model.styleBuffer,a.model.stylishToAction)}};a.view={documentReady:false,set:function(e){var d,c,g=e.data.obj,f=g.data("jiro");f.actions.sort(a.common.sortFunc("breakPoint"));f.waitingForInit=false;for(d=0;(d<f.actions.length)&&(f.actions[d].breakPoint<g.width());d++){f.actions[d].overFunction(e)}f.pointer=d;for(c=f.actions.length;(c>0)&&(c>d);c--){f.actions[c-1].underFunction(e)}},init:function(c){a.view.set(c);b(window).on("resize.jiro",{object:c.data.obj},a.view.iterate)},iterate:function(d){var c,f=d.data.object,e=f.data("jiro");for(c=e.pointer;(c<e.actions.length)&&(e.actions[c].breakPoint<f.width());c++){e.actions[c].overFunction(d)}for(null;(c>0)&&(e.actions[c-1].breakPoint>=f.width());c--){e.actions[c-1].underFunction(d)}e.pointer=c},load:b(document).ready(function(){a.view.documentReady=true;a.model.unbuffer();b(window).trigger("init.jiro")})};a.user={addSwitch:function(d,c){if("toggle" in c){a.model.actionAppend.call(this,{breakPoint:d,overFunction:c.toggle,underFunction:c.toggle})}else{a.model.actionAppend.call(this,{breakPoint:d,overFunction:c.over,underFunction:c.under})}},addCont:function(e,d){var f=this;function c(h,g){b(document)[h]("ready.jiro",{obj:f},g);b(window)[h]("resize.jiro",{obj:f},g)}if(arguments.length>1){if("over" in d){a.model.actionAppend.call(f,d.over,c("off",e),c("on",e))}if("under" in d){a.model.actionAppend.call(f,d.under,c("on",e),c("off",e))}}else{c("on",e)}},addStep:function(g,e){var h={},d;if(!("getter" in g)&&("css" in g)){g.getter=function(){return b(g.elem).css(g.css)}}else{g.getter=function(){return b(g.elem)[g.prop]()}}if(!("setter" in g)&&("css" in g)){g.setter=function(i){return b(g.elem).css(g.css,i)}}else{g.setter=function(i){return b(g.elem)[g.prop](i)}}function c(k,i,j){if((i==="current")||(j==="current")){a.model.stylishAppend.call(this,{breakPoint:k,property:{getter:function(){return g.getter()},setter:function(l){return g.setter(l)}},over:i,under:j})}else{a.model.actionAppend.call(this,{breakPoint:k,overFunction:function(){return g.setter(i)},underFunction:function(){return g.setter(j)}})}}function f(k,o,l){var m,n;for(m=0;(m+l)<k.length;m++){n=k[m+l].value;c.call(this,k[m].key,n,o);o=n}}if("over" in e){h.over=a.common.toArray(e.over);d=("limit" in e.over)?e.over.limit:"current";f.call(this,h.over,d,0)}if("under" in e){h.under=a.common.toArray(e.under);f.call(this,h.under,h.under[0].value,1);d=("limit" in e.under)?e.under.limit:"current";c.call(this,h.under[h.under.length-1].key,d,h.under[h.under.length-1].value)}}};b.fn.jiro=function(c){if(a.user[c]){a.user[c].apply(this,Array.prototype.slice.call(arguments,1));if(a.view.documentReady){b(window).trigger("init.jiro")}}else{console.log('Method "'+c+'" does not exist in jQuery.jiro')}return this}})(jQuery);